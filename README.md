# bmqsimtest

This is a test repository for the bmqsim package. It contains examples of quantum circuits that can be simulated using the bmqsim package and compared with the results of others quantum simulators.
The repository is organized as follows:

Each folder (**circuit folder**) contains a specific example of a quantum circuit. For example, the folder `bellstate` contains the quantum circuit that generates a Bell state. It also contains subfolders (**simulator subfolder**) each containing the implementation of that quantum circuit in a specific quantum programming language and/or quantum simulator. So for example, the folder `bellstate/qiskit` contains the implementation of the Bell state quantum circuit using the Qiskit library.

## Organization of the circuit folders

A file README.md that explains the quantum circuit is present in each circuit folder.
All the circuit folders share a jupyter notebook called `analyze.ipynb` that compares the results of the simulation of the quantum circuit using the different quantum simulators present in the simulator subfolders.
The `analyze.ipynb` file is a symbolic link to the file `analyze.ipynb` in the root folder of the repository.
The `analyze.ipynb` reads the configuration parameters from the file `config.py` in circuit folder. See the section **`config.py` parameters** for more information.

## Organization of the simulator subfolders

For each simulator the inputs for the quantum circuit, stored in a file called `inputs.json` or `inputs.txt` are present. Similarly, the expected results of the simulation of the quantum circuit using the specific quantum simulator are stored in a file called `outputs.json` or `outputs.txt`.
The other files in the simulator subfolder are the specific to the quantum programming language or quantum simulator used to implement the quantum circuit, see the section `Supported simulators` for more information.
This directory can also contain an additional `config.py` file that contains the configuration parameters for the specific quantum simulator whose parameters are appended to the global configuration parameters in the `config.py` file in the circuit folder. 

## Usage of the `analyze.ipynb` notebook

To fully understand the predictive operation of the bmqsim package and other available simulators, it is essential to compare the quantum states obtained with those generated by a reference simulator, this
is the purpose of the `analyze.ipynb` notebook. The reference simulator is highlighted by the presence of a file called `base` in the simulator subfolder and it is always done using the qiskit simulator.

Within each subrepository, such as `xgate/quest`, there is a text file called `active` (e.g., `xgate/quest/active`) that indicates whether the simulator is active or not. If the file is present, the simulator is active; otherwise, it is not (For more details, refer to the `analyze.ipynb` file in the root repository.)

In the case of the reference subrepository (e.g., `xgate/qiskit`) both the `active` file and the `base` file are present. As mentioned, the idea is to make comparisons between various simulation technologies, using qiskit as a reference.

The results generated by any simulator other than the reference must match those one within a certain margin of error. If the results match within this margin, the test is considered passed; otherwise, the test fails.

## `config.py` (circuit) parameters

Within each circuit folder there is the `config.py` file. This file is read by the `analyze.ipynb` notebook, which extracts the parameters needed to implement the quantum circuits.

Regardless of the mode of operation, there are four parameters that are always used:

- **qbits**: indicates the number of qubits that make up the circuit.
- **passthreshold**: comparison threshold between the states generated by the active simulators and the reference one.
- **quiet**: sets the verbosity of the process.
- **useprob**: if set to True, the probability coefficients (amplitudes) of the states produced by the various quantum simulators are used to compare the results. If set to False, the states are compared directly.

Depending on the values of certain **parameters**, the code in the `analyze.ipynb` file behaves differently. There are three modes of operation:

- 1) `fundamental` = False:
     - in this case, the `numiter` and `staticdata` parameters are ignored.
     - The initial state is always the fundamental. An `inputs.txt/inputs.json` file is created with the data forming a fundamental vector (e.g., for 2 qubits, the state is |00>).

- 2) `fundamental` = False and `staticdata` = True:
     - The circuit starts from a state formed by the values given in the `inputs.json` file within the circuit folder.

- 3) `fundamental` = False and `staticdata` = False:
     - The parameter numiter is used.
     - In this case, as many generic states are generated as are indicated by the `numiter parameter` (for example, if `numiter=100`, 100 possible vectors will be created and the predetermined circuit will be executed for each).


## Supported simulators

- ### qiskit

- ### quest

- ### pennylane

- ### bmqsim

- ### spinq

## Special case: the random circuit folder

The folder `random` contains a random quantum circuit generator. Refer to the README.md file in the folder for more information.
